"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2392],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var m=a.createContext({}),s=function(e){var t=a.useContext(m),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(m.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,m=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=r,h=u["".concat(m,".").concat(d)]||u[d]||p[d]||i;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var m in t)hasOwnProperty.call(t,m)&&(l[m]=t[m]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},15140:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return m},metadata:function(){return s},toc:function(){return c},default:function(){return u}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),o=["components"],l={sidebar_position:7},m="Game Service Technical View",s={unversionedId:"rules/game",id:"rules/game",isDocsHomePage:!1,title:"Game Service Technical View",description:"Gameloop",source:"@site/docs/rules/game.md",sourceDirName:"rules",slug:"/rules/game",permalink:"/docs/rules/game",editUrl:"https://github.com/The-Microservice-Dungeon/docs/edit/main/docs/rules/game.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Trading Service Technical View",permalink:"/docs/rules/tradingService"},next:{title:"Gamelog Service Technical View",permalink:"/docs/rules/gameLog"}},c=[{value:"Gameloop",id:"gameloop",children:[]},{value:"Round Flow Events",id:"round-flow-events",children:[]},{value:"Commands",id:"commands",children:[]},{value:"Notes to Gameplay",id:"notes-to-gameplay",children:[]}],p={toc:c};function u(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"game-service-technical-view"},"Game Service Technical View"),(0,i.kt)("h2",{id:"gameloop"},"Gameloop"),(0,i.kt)("p",null,"Items are handled seperantly, to make it easier forthe other services.\nThe original gameloop was changed from 1. Blocking -> 2. Trading -> 3. Moving -> 4. Fighting -> 5. Mining -> 6. Scouting to"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"1. Blocking -> 2. Trading -> 3. Moving (with an item) -> 4.Moving (without an item) -> 5. Repairing -> 6. Battleing (with an item) -> 7. Battleing(without an item) -> 8. Mining -> 9. Regenerating\n")),(0,i.kt)("h2",{id:"round-flow-events"},"Round Flow Events"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Game Created")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Player name joined the game.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Game started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Round x started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Phase: Command Input started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Phase: Command Input ended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Phase: Command execution started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Blocking started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Blocking ended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Trading started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Trading ended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Movement started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Movement ended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Battle started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Battle ended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Mining started")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Command execution Phase: Mining ended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Phase: Command execution ended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Round x ended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Game ended"))),(0,i.kt)("h2",{id:"commands"},"Commands"),(0,i.kt)("p",null,"The game service must manage the commands from the player, because it owns the information about the round timer and can send the commands at the right time to the right services."),(0,i.kt)("p",null,"It ownes a list of all robots, to verify, that players dont sent commands for robots of other players."),(0,i.kt)("p",null,"The list is created by the information of the robot-create-events, so the service knows all the robots, that are owned by the players."),(0,i.kt)("p",null,"The commands from the players are stored in the game service and are sent to the other services, that fit the command-type during the execution phase."),(0,i.kt)("p",null,"The players recieves an id, to find the right event, that informs him of the outcome of his command."),(0,i.kt)("h2",{id:"notes-to-gameplay"},"Notes to Gameplay"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Chosen option: Generic command entity owned by Game, payload owned by services to whom command is routed.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Game Service receives commands from the players and is responsible for sorting them by their execution phase")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Game Service sends a package with commands to the associated service during the correct phase, the other service executes the commands directly after receiving it (other services have no awareness about phases).")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Commands are associated with a commandUUID, this UUID allows the player to access the result of their command after it has been executed"))))}u.isMDXComponent=!0}}]);